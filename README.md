## Цей проєкт є псевдокодом для демо обробки помилок

### 1. **AllExceptionsFilter**
- Файл: `user/filters/all-exceptions.filter.ts`
- Клас `AllExceptionsFilter` обробляє всі виключення, що виникають під час роботи програми. Він захоплює як HTTP виключення, так і будь-які інші типи виключень (включаючи внутрішні помилки сервера).
- Логіка:
    - Якщо виключення є екземпляром `HttpException`, то код статусу отримується з виключення.
    - Для інших виключень встановлюється код статусу `500 Internal Server Error`.
    - Логи зберігаються за допомогою `Logger`.
- Відповідь на клієнт містить статус код, часову мітку та повідомлення про помилку.

### 2. **EmailAlreadyUsedException**
- Файл: `user/exceptions/email-already-used.exception.ts`
- Кастомний виняток, що використовується для інформування, коли користувач намагається зареєструватися з електронною адресою, яка вже існує в системі.
- Спадкує від стандартного класу `BadRequestException`.
- Повідомлення для користувача: `"Електронна адреса <email> вже використовується"`.

### 3. **NotFoundException**
- Використовується в сервісі `UserService` для ситуацій, коли користувач з певним ID не знайдений в системі.
- Це стандартний виняток з NestJS, який автоматично повертає статус код `404 Not Found` разом з повідомленням про те, що користувач не знайдений.

### 4. **ForbiddenException**
- Файл: `user/guards/roles.guard.ts`
- Цей виняток використовується у класі `RolesGuard` для обмеження доступу до певних маршрутів.
- Якщо у користувача відсутні необхідні ролі для доступу до ресурсу, генерується цей виняток з повідомленням `"Доступ заборонено"`.

## Як використовувати

1. **AllExceptionsFilter** автоматично застосовується глобально в усьому додатку.
2. **EmailAlreadyUsedException** використовується у методі `registerUser` сервісу `UserService` для перевірки унікальності електронної адреси.
3. **NotFoundException** використовується у методі `getUserById` сервісу `UserService` для перевірки існування користувача.
4. **ForbiddenException** використовується в `RolesGuard` для перевірки ролей користувача при доступі до захищених ресурсів.